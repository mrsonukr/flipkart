<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-2xl">
        <h1 class="text-2xl font-bold mb-6 text-center">Product Input Form</h1>
        <form id="productForm" class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700">Product ID</label>
                <input type="text" id="id" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., prod_013" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Name</label>
                <input type="text" id="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., POCO M6 Plus 5G (Misty Lavender, 128 GB)" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Brand</label>
                <input type="text" id="brand" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., POCO" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Category</label>
                <input type="text" id="category" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., mobile" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Base Price</label>
                <input type="number" id="basePrice" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., 17999" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Discount Percentage</label>
                <input type="number" id="discountPercentage" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., 80" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Images</label>
                <div id="imageInputs" class="space-y-2">
                    <div class="flex items-center space-x-2">
                        <input type="url" class="image-input mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="Enter image URL">
                        <button type="button" class="remove-image bg-red-500 text-white p-2 rounded-md hover:bg-red-600" title="Remove Image">-</button>
                    </div>
                </div>
                <button type="button" id="addImage" class="mt-2 bg-green-500 text-white p-2 rounded-md hover:bg-green-600" title="Add Image">+</button>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Average Rating</label>
                <input type="number" id="averageRating" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., 4" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Total Reviews</label>
                <input type="number" id="totalReviews" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., 18523" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Stock Status</label>
                <input type="text" id="stockStatus" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., Performance Beast" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Variant 1 Type</label>
                <input type="text" id="variant1Type" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., color" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Variant 1 Name</label>
                <input type="text" id="variant1Name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., Misty Lavender" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Variant 2 Type</label>
                <input type="text" id="variant2Type" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., storage" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Variant 2 Name</label>
                <input type="text" id="variant2Name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., 8GB + 128GB" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Delivery Days</label>
                <input type="number" id="delivery" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="e.g., 2" required>
            </div>
            <button type="submit" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700">Generate JSON</button>
        </form>
        <div id="output" class="mt-6 hidden">
            <h2 class="text-lg font-medium text-gray-700">Generated JSON</h2>
            <pre class="bg-gray-100 p-4 rounded-md overflow-auto"></pre>
        </div>
    </div>

    <script>
        const imageInputsContainer = document.getElementById('imageInputs');
        const addImageButton = document.getElementById('addImage');

        function addImageInput() {
            const div = document.createElement('div');
            div.className = 'flex items-center space-x-2';
            div.innerHTML = `
                <input type="url" class="image-input mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" placeholder="Enter image URL">
                <button type="button" class="remove-image bg-red-500 text-white p-2 rounded-md hover:bg-red-600" title="Remove Image">-</button>
            `;
            imageInputsContainer.appendChild(div);
            div.querySelector('.remove-image').addEventListener('click', () => {
                if (imageInputsContainer.children.length > 1) {
                    div.remove();
                }
            });
        }

        addImageButton.addEventListener('click', addImageInput);

        document.getElementById('productForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const imageInputs = Array.from(document.querySelectorAll('.image-input')).map(input => input.value.trim()).filter(url => url !== '');
            const uniqueImages = [...new Set(imageInputs)]; // Remove duplicates
            const formData = {
                id: document.getElementById('id').value,
                name: document.getElementById('name').value,
                brand: document.getElementById('brand').value,
                category: document.getElementById('category').value,
                basePrice: parseInt(document.getInputById('basePrice').value),
                discountPercentage: parseInt(document.getElementById('discountPercentage').value),
                images: uniqueImages,
                averageRating: parseInt(document.getElementById('averageRating').value),
                totalReviews: parseInt(document.getElementById('totalReviews').value),
                stockStatus: document.getElementById('stockStatus').value,
                variants: [
                    {
                        type: document.getElementById('variant1Type').value,
                        name: document.getElementById('variant1Name').value
                    },
                    {
                        type: document.getElementById('variant2Type').value,
                        name: document.getElementById('variant2Name').value
                    }
                ],
                delivery: parseInt(document.getElementById('delivery').value)
            };
            const output = document.getElementById('output');
            output.classList.remove('hidden');
            output.querySelector('pre').textContent = JSON.stringify(formData, null, 2);
        });

        // Initialize with one image input
        addImageInput();
    </script>
</body>
</html>